%
O2007

(RICHARD WARDIN)
(POCKET CUT MACRO)

(R = RAPID PLANE)
(Z = FINAL Z DEPTH)
(K = Z INCREMENT)
(X = XSIZE OF POCKET)
(Y = YSIZE OF POCKET)
(D = DIAM OF TOOL)
(I = X POSITION OF POCKET)
(J = Y POSITION OF POCKET)

#101 = #18  (R - RAPID PLANE)
#102 = #26  (Z - FINAL Z DEPTH)
#103 = #12  (K - Z INCREMENT)

#104 = #24  (X - XSIZE OF POCKET)
#105 = #25  (Y - YSIZE OF POCKET)

#106 = #4   (D - DIAM OF TOOL)

#107 = #9   (I - X POS OF POCKET)
#108 = #10  (J - Y POS OF POCKET)


(CALCULATE TRUE VALUES)
#104 = #104 - #106     (X SIZE -= DIAM)
#105 = #105 - #106     (Y SIZE -= DIAM)
#107 = #107 + [#106/2] (X POS += DIAM/2)
#108 = #108 + [#106/2] (Y POS += DIAM/2)

(START Z VALUE)
#110 = #101 + #103

(LOOP THROUGH THE Z DEPTH)
WHILE[#110GE#102]DO1


(SET X POSITION)
#109 = #107
(LOOP THROUGH THE X)
WHILE[#109LE[#107+#104]]DO2

(CUT THE Y)
G00 X#109 Y#108
G00 Z#101   (GO DOWN TO RAPID)
G01 Z#110   (GO DOWN TO CUT DEPTH)
Y[#108 + #105]
G00 Z2.0
#109 = #109 + #106
END2


#110 = #110 + #103 (ADD K INCREMENT)
END1


M99
%
